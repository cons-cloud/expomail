# Configuration Production HyperEmail
# Copiez ce fichier vers .env en production

# Serveur
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# Supabase
# Public URL used by client-side scripts
NEXT_PUBLIC_SUPABASE_URL=https://ton-projet.supabase.co
# Public anon key (client)
NEXT_PUBLIC_SUPABASE_ANON_KEY=ton_anon_key
# Server-side service role key (KEEP THIS SECRET)
SUPABASE_SERVICE_ROLE_KEY=ton_service_role_key

# Optional direct Postgres connection string (if you want to connect directly)
# DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@db.ton-projet.supabase.co:5432/postgres
DATABASE_URL=

# SMTP Production - SendGrid (Recommandé)
SMTP_SERVICE=sendgrid
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=YOUR_SENDGRID_API_KEY
EMAIL_FROM=noreply@votredomaine.com
EMAIL_FROM_NAME=HyperEmail

# Ou Amazon SES
# SMTP_SERVICE=ses
# SMTP_HOST=email-smtp.eu-west-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=YOUR_SES_ACCESS_KEY
# SMTP_PASS=YOUR_SES_SECRET_KEY

# Ou Gmail Business (Google Workspace)
# SMTP_SERVICE=gmail
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=votre-email@votredomaine.com
# SMTP_PASS=votre-mot-de-passe-app

# Rate Limiting
RATE_LIMIT_WINDOW=60000
MAX_REQUESTS_PER_WINDOW=100
SCRAPING_RATE_LIMIT=10

# Cache Redis (Optionnel)
REDIS_URL=redis://localhost:6379
REDIS_ENABLED=false

# Monitoring (Optionnel)
SENTRY_DSN=
LOG_LEVEL=info

# Sécurité
SESSION_SECRET=CHANGEZ_CE_SECRET_EN_PRODUCTION_AVEC_UNE_VALEUR_ALEATOIRE_LONGUE
CORS_ORIGIN=https://votredomaine.com

# Limites
MAX_EMAILS_PER_CATEGORY=200000
MAX_EMAILS_TOTAL=200000

# Contrôle des envois massifs
# Nombre de messages envoyés en parallèle
SEND_CONCURRENCY=6
# Taille d'un batch (groupe de messages envoyé avant une pause)
SEND_BATCH_SIZE=30
# Délai (ms) entre deux batchs
SEND_BATCH_DELAY=2000
